---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Tempo365">
  <section style="text-align:center; padding: 60px 20px; font-family: Arial, sans-serif;">
    <h1 style="font-size: 2.5rem; color: #0077cc;">☀️ Bem-vindo ao Tempo365</h1>
    <p style="font-size: 1.2rem; margin-top: 20px;">
      Consulta a previsão do tempo em qualquer lugar, 24 horas por dia.
    </p>

    <p style="margin-top: 30px;">
      Website criado com <strong>Astro</strong> e publicado no <strong>Netlify</strong>.
    </p>

    <img src="/favicon.ico" alt="Tempo365 logo" style="margin-top: 40px; width: 120px;" />
  </section>
</Layout>

<script>
  async function carregarTempo() {
    try {
      const resposta = await fetch("https://api.open-meteo.com/v1/forecast?latitude=38.72&longitude=-9.14&current_weather=true");
      const dados = await resposta.json();
      const tempo = dados.current_weather;
      document.body.innerHTML += `
        <section style="text-align:center; background:white; color:#333; padding:40px 20px; font-size:1.2rem;">
          <h2>Previsão Meteorológica</h2>
          🌡️ Temperatura: ${tempo.temperature}°C<br>
          💨 Vento: ${tempo.windspeed} km/h
        </section>
      `;
    } catch (erro) {
      console.error("Erro ao carregar previsão:", erro);
    }
  }

  carregarTempo();
</script>
